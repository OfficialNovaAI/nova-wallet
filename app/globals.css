@import "tailwindcss";

@theme {
  --color-nova-purple: #b366ff;
  --color-nova-purple-light: #d9b3ff;
  --color-nova-purple-glow: #9933ff;
  --color-nova-violet: #a366ff;

  --radius: 0.5rem;
}

:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 3.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 3.9%;
  --primary: 0 0% 9%;
  --primary-foreground: 0 0% 98%;
  --secondary: 0 0% 96.1%;
  --secondary-foreground: 0 0% 9%;
  --muted: 0 0% 96.1%;
  --muted-foreground: 0 0% 45.1%;
  --accent: 0 0% 96.1%;
  --accent-foreground: 0 0% 9%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 89.8%;
  --input: 0 0% 89.8%;
  --ring: 0 0% 3.9%;
  --sidebar-background: 0 0% 98%;
  --sidebar-foreground: 0 0% 3.9%;
  --sidebar-primary: 0 0% 9%;
  --sidebar-primary-foreground: 0 0% 98%;
  --sidebar-accent: 0 0% 96.1%;
  --sidebar-accent-foreground: 0 0% 9%;
  --sidebar-border: 0 0% 89.8%;
  --sidebar-ring: 0 0% 3.9%;
  --nova-purple: 270 100% 70%;
  --nova-purple-light: 280 100% 85%;
  --nova-purple-glow: 270 100% 60%;
  --nova-violet: 260 100% 65%;
  --nova-chat-bg: 0 0% 100%;
  --nova-message-user: 270 100% 95%;
  --nova-message-ai: 0 0% 96%;
}

.dark {
  --background: 0 0% 3.9%;
  --foreground: 0 0% 98%;
  --card: 0 0% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 0 0% 9%;
  --secondary: 0 0% 14.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 0 0% 14.9%;
  --muted-foreground: 0 0% 63.9%;
  --accent: 0 0% 14.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 14.9%;
  --input: 0 0% 14.9%;
  --ring: 0 0% 83.1%;
  --sidebar-background: 0 0% 3.9%;
  --sidebar-foreground: 0 0% 98%;
  --sidebar-primary: 0 0% 98%;
  --sidebar-primary-foreground: 0 0% 9%;
  --sidebar-accent: 0 0% 14.9%;
  --sidebar-accent-foreground: 0 0% 98%;
  --sidebar-border: 0 0% 14.9%;
  --sidebar-ring: 0 0% 83.1%;
  --nova-purple: 270 100% 70%;
  --nova-purple-light: 280 100% 85%;
  --nova-purple-glow: 270 100% 60%;
  --nova-violet: 260 100% 65%;
  --nova-chat-bg: 240 10% 8%;
  --nova-message-user: 270 60% 15%;
  --nova-message-ai: 240 10% 12%;
}

@layer utilities {

  /** INITIAL CARDS BACKGROUNDS**/
  .receive-bg {
    background: radial-gradient(circle at 100% 0%, rgba(255, 184, 106, 0.4) 0%, rgba(253, 165, 213, 0.3) 30%, rgba(218, 178, 255, 0.2) 50%, transparent 70%);
  }

  .swap-bg {
    background: radial-gradient(circle at 100% 0%, rgba(142, 197, 255, 0.3) 0%, rgba(218, 178, 255, 0.25) 30%, rgba(253, 165, 213, 0.2) 50%, transparent 70%);
  }

  .paylink-bg {
    background: radial-gradient(circle at 100% 0%, rgba(218, 178, 255, 0.4) 0%, rgba(142, 197, 255, 0.3) 30%, rgba(83, 234, 253, 0.2) 50%, transparent 70%);
  }

  .send-bg {
    background: radial-gradient(circle at 100% 0%, rgba(255, 223, 32, 0.4) 0%, rgba(255, 184, 106, 0.3) 30%, rgba(253, 165, 213, 0.2) 50%, transparent 70%);
  }

  /** INITIAL CARDS LOGOS **/
  .receive-logo {
    background: linear-gradient(135deg, #FFB86A 0%, #FDA5D5 50%, #DAB2FF 100%);
  }

  .swap-logo {
    background: linear-gradient(135deg, #8EC5FF 0%, #DAB2FF 50%, #FDA5D5 100%);
  }

  .paylink-logo {
    background: linear-gradient(135deg, #DAB2FF 0%, #8EC5FF 50%, #53EAFD 100%);
  }

  .send-logo {
    background: linear-gradient(135deg, #FFB86A 0%, #FFDF20 50%, #FDA5D5 100%);
  }

  /** CHAT LOGO **/
  .chat-logo {
    background: linear-gradient(225.82deg, rgba(140, 132, 251, 0.4) 0%, rgba(54, 54, 201, 0.4) 98.6%),
      linear-gradient(0deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.1));
    backdrop-filter: blur(8.68px);
    border: 0.72px solid rgba(255, 255, 255, 0.2);
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
  }

  .chat-logo-behind {
    background: linear-gradient(135deg, #7069EC 0%, #5753DF 100%);
    box-shadow: 0px 0px 2.89px 0px #8C84FB inset;
    box-shadow: 0.72px 0.72px 5.42px 0px #FFFFFF33 inset;
  }

  .zap-style {
    background: linear-gradient(180deg, #E9E2FE 0%, #A692FA 50%, #4937B2 100%);
    border: 1.67px solid;
    border-image-source: linear-gradient(180deg, #4937B2 0%, #A692FA 50%, #E9E2FE 100%);
  }

  /** BUBBLE CHAT **/
  .bubble-chat {
    background: linear-gradient(180deg, #7768CA 0%, #5341B8 100%);
    box-shadow: 0px 1px 3px 0px #0000001A;
    box-shadow: 0px -1px 0px 0px #3E318A inset;
    box-shadow: 0px 1px 0.75px 0px #FFFFFF1F inset;
    box-shadow: 0px 0px 0px 1px #423493;
  }

  /** WALLET DETAIL **/
  .total-asset-value {
   background: linear-gradient(246.59deg, #E9E2FE -27.62%, #A692FA 18.74%, #4937B2 65.11%); 
   box-shadow: 0px 8px 10px -6px #C8BAF833;
   box-shadow: 0px 20px 25px -5px #4B39B333;
   border-radius: 16px;
  }

  /** FEATURE **/
  .get-to-know-nova-wallet-more {
    box-shadow: 0px 1px 3px 0px #0000001A;
    box-shadow: 0px -1px 0px 0px #3E318A inset;
    box-shadow: 0px 1px 0.75px 0px #FFFFFF1F inset;
    box-shadow: 0px 0px 0px 1px #423493;
    background: #100C27;
  }

  .card {
    box-shadow: 0px 0px 0px 1px #423493;
    box-shadow: 0px 4.07px 2px -3.05px #0000000D;
    box-shadow: 0px 10.18px 12.72px -2.54px #0000000D;
  }

  /** NAVBAR **/
  .navbar {
    background: linear-gradient(180deg, #5543BC 0%, #786BC7 100%);
    box-shadow: 0px 1px 3px 0px #0000001A;
    box-shadow: 0px -1px 0px 0px #3E318A inset;
    box-shadow: 0px 1px 0.75px 0px #FFFFFF1F inset;
    box-shadow: 0px 0px 0px 1px #423493; 
  }
}

* {
  border-color: hsl(var(--border));
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
}

/* ========================================
   CopilotKit Custom Styling - Nova Theme
   ======================================== */

/* Override CopilotKit CSS Variables */
[data-copilot-kit],
.copilotKitChat,
.copilotKitMessages,
.copilotKitInput {
  --copilot-kit-primary-color: hsl(270 100% 70%);
  --copilot-kit-contrast-color: white;
  --copilot-kit-background-color: hsl(var(--background));
  --copilot-kit-secondary-color: hsl(var(--card));
  --copilot-kit-secondary-contrast-color: hsl(var(--foreground));
  --copilot-kit-separator-color: hsl(var(--border));
  --copilot-kit-muted-color: hsl(var(--muted-foreground));
}

/* Hide default CopilotKit header (we have custom ChatHeader) */
.copilotKitHeader,
[class*="copilotKitHeader"],
[class*="Header"]>[class*="copilot"] {
  display: none !important;
}

/* CRITICAL: Make chat container fill available space with proper constraints */
.copilotKitChat,
[class*="copilotKit"][class*="Chat"],
[data-copilotkit-chat],
main>div>div[class*="copilot"],
main div[class*="Chat"] {
  height: 100% !important;
  max-height: 100% !important;
  min-height: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  border: none !important;
  border-radius: 0 !important;
  overflow: hidden !important;
  flex: 1 1 0% !important;
}

/* CRITICAL: Messages area must scroll and not grow infinitely */
.copilotKitMessages,
[class*="copilotKit"][class*="Messages"],
[class*="copilot"] [class*="messages"],
[class*="copilot"] [class*="Messages"],
[data-copilotkit-messages] {
  flex: 1 1 0% !important;
  min-height: 0 !important;
  max-height: none !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding: 1rem !important;
  display: flex !important;
  flex-direction: column !important;
}

/* FIX: MessagesContainer must fill ALL parent height */
.copilotKitMessagesContainer,
[class*="copilotKitMessagesContainer"],
div.copilotKitMessagesContainer {
  flex: 1 1 100% !important;
  height: 100% !important;
  min-height: 100% !important;
  max-height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* FIX: COMPLETELY remove footer from layout flow */
.copilotKitMessagesFooter,
[class*="copilotKitMessagesFooter"],
footer.copilotKitMessagesFooter,
div.copilotKitMessages>footer,
[class*="copilotKitMessages"]>footer {
  display: none !important;
  visibility: hidden !important;
  position: absolute !important;
  width: 0 !important;
  height: 0 !important;
  min-height: 0 !important;
  max-height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  overflow: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Style user messages with Nova gradient */
.copilotKitMessage[data-role="user"],
[class*="copilotKitUserMessage"] {
  background: linear-gradient(135deg, hsl(270 100% 70%), hsl(280 100% 60%)) !important;
  color: white !important;
  border-radius: 1rem !important;
  padding: 0.75rem 1rem !important;
  max-width: 80% !important;
  margin-left: auto !important;
}

/* Style AI messages */
.copilotKitMessage[data-role="assistant"],
[class*="copilotKitAssistantMessage"],
[class*="assistantMessage"] {
  background: white !important;
  color: hsl(var(--foreground)) !important;
  border-radius: 1rem !important;
  padding: 0.75rem 1rem !important;
  max-width: 80% !important;
  border: 1px solid hsl(var(--border)) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
}

/* Style the CopilotKit response wrapper to ensure proper layout */
[class*="copilotKitResponse"],
[class*="response"] {
  display: flex !important;
  flex-direction: column !important;
  gap: 0.5rem !important;
}

/* Avatar styling for assistant - Nova AI purple gradient */
[class*="copilotKitAssistant"] [class*="avatar"],
[class*="assistantMessage"] [class*="avatar"],
.copilotKitAvatar,
[class*="Avatar"][class*="assistant"] {
  background: linear-gradient(135deg, hsl(270 100% 65%), hsl(280 100% 55%)) !important;
  border-radius: 50% !important;
  width: 36px !important;
  height: 36px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: white !important;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3) !important;
}

/* Ensure action renders (Generative UI) display properly */
[class*="actionRender"],
[class*="ActionRender"],
[class*="toolRender"],
[class*="ToolRender"] {
  margin-top: 0.5rem !important;
  width: 100% !important;
}

/* Input area styling */
.copilotKitInput,
[class*="copilotKitInput"] {
  border-top: 1px solid hsl(var(--border)) !important;
  background: hsl(var(--background)) !important;
  padding: 1rem !important;
}

.copilotKitInput textarea,
.copilotKitInput input {
  background: hsl(var(--muted)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: 0.75rem !important;
  color: hsl(var(--foreground)) !important;
}

.copilotKitInput textarea:focus,
.copilotKitInput input:focus {
  border-color: hsl(270 100% 70%) !important;
  outline: none !important;
  box-shadow: 0 0 0 2px hsl(270 100% 70% / 0.2) !important;
}

/* Send button styling */
.copilotKitSendButton,
[class*="copilotKitSendButton"] {
  background: linear-gradient(135deg, hsl(270 100% 70%), hsl(280 100% 60%)) !important;
  border: none !important;
  border-radius: 0.75rem !important;
  color: white !important;
}

.copilotKitSendButton:hover {
  opacity: 0.9 !important;
}